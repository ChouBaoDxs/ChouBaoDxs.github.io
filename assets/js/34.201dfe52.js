(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{1016:function(a,s,e){"use strict";e.r(s);var t=e(12),n=Object(t.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"title"}),t("p",[a._v("视频名称：shell教程-马哥2019全新Shell脚本入门教程"),t("br"),a._v("\n视频地址：https://www.bilibili.com/video/av33607890"),t("br"),a._v("\nshell脚本基础练习：https://blog.csdn.net/weixin_42228139/article/details/80550700\n我的评价：★★★★☆")])]),a._v(" "),t("p",[a._v("[TOC]")]),a._v(" "),t("h2",{attrs:{id:"shell脚本基础入门及变量使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell脚本基础入门及变量使用"}},[a._v("#")]),a._v(" shell脚本基础入门及变量使用")]),a._v(" "),t("p",[a._v("执行一个脚本的各种方法：")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("./hello.sh\nbash hello.sh\ncat hello.sh | bash\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("h3",{attrs:{id:"脚本中断"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#脚本中断"}},[a._v("#")]),a._v(" 脚本中断")]),a._v(" "),t("ul",[t("li",[a._v("命令错误不会阻止shell脚本继续执行")]),a._v(" "),t("li",[a._v("语法错误会中断shell脚本执行")])]),a._v(" "),t("h3",{attrs:{id:"脚本调试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#脚本调试"}},[a._v("#")]),a._v(" 脚本调试")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("bash -n hello.sh")]),a._v("可以检查语法错误")]),a._v(" "),t("li",[t("code",[a._v("bash -x hello.sh")]),a._v("可以输出每一行代码的执行结果")])]),a._v(" "),t("h3",{attrs:{id:"变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#变量"}},[a._v("#")]),a._v(" 变量")]),a._v(" "),t("p",[a._v("变量：命名的内存空间")]),a._v(" "),t("ul",[t("li",[a._v("数据存储方式")]),a._v(" "),t("li",[a._v("字符")]),a._v(" "),t("li",[a._v("数值：整型、浮点型")])]),a._v(" "),t("p",[a._v("变量：类型")]),a._v(" "),t("ul",[t("li",[a._v("作用：\n"),t("ol",[t("li",[a._v("数据存储格式")]),a._v(" "),t("li",[a._v("参与的运算")]),a._v(" "),t("li",[a._v("表示的数据范围")])])]),a._v(" "),t("li",[a._v("类型：\n"),t("ul",[t("li",[a._v("字符")]),a._v(" "),t("li",[a._v("数值：整型、浮点型")])])])]),a._v(" "),t("p",[a._v("变量命名法则：")]),a._v(" "),t("ol",[t("li",[a._v("不能使用程序保留字：如if、for")]),a._v(" "),t("li",[a._v("只能使用数字、字母、下划线，且不能以数字开头")]),a._v(" "),t("li",[a._v("见名知义")]),a._v(" "),t("li",[a._v("命名规则：驼峰命名法、下划线")])]),a._v(" "),t("p",[a._v("变量的引用就是带个$(PHP语法)：")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('name="dxs" # 单引号也可以\necho $name\necho ${name} # 等同于上一句\n')])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("p",[a._v("把命令的执行结果赋值给变量：")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('name=`cat xxx.txt` # 或者name="`cat xxx.txt`""\necho $name\n# 一般情况下，如果txt文件是多行的，上面这样输出的字符串会是一行，想要输出换行，可以下面这样\necho "$name"\n')])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br")])]),t("p",[a._v("变量赋值变量：")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("x=1\ny=$x\necho $y # 1\nx=2\necho $y # 1\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br")])]),t("p",[a._v("删除变量：")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("unset name # 不需要$符号\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("显示所有变量：")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("set\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h3",{attrs:{id:"bash中变量的种类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bash中变量的种类"}},[a._v("#")]),a._v(" bash中变量的种类")]),a._v(" "),t("ol",[t("li",[a._v("局部变量：生效范围为当前shell进程；对当前shell之外的其它shell进程，包括当前shell的子shell进程均无效")]),a._v(" "),t("li",[a._v("环境(全局)变量：生效范围为当前shell进程及其子进程（就是常用的export命令）,子进程修改环境变量之后无法向上传递，查看环境变量"),t("code",[a._v("env")])]),a._v(" "),t("li",[a._v("本地变量：生效范围为当前shell进程中某代码片段，通常指函数")]),a._v(" "),t("li",[a._v("位置变量：$1,$2,...来表示，用于脚本在脚本代码中调用通过命令行传递给它的参数")]),a._v(" "),t("li",[a._v("特殊变量：$?,$0,$*,$@,$#,$$")])]),a._v(" "),t("h3",{attrs:{id:"练习"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#练习"}},[a._v("#")]),a._v(" 练习")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('显示主机名：hostname\n查看网卡ip：ifconfig ens33\n查看centos版本：cat /etc/centos-release\n查看内核版本：uname -r\nCPU型号：lscpu\n内存大小：free\n硬盘大小：sblk |grep "^sd" |tr -s " "|cut -d" " -f4\n')])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('#!bin/bash\n# 每日将/etc/目录备份到/root/etcYYY-mm-dd\necho -e "\\e[1:31mstart backup...\\e[0m"\nsleep 2\ncp -av /etc/ /root/etc`data +%F`\necho -e "\\e[1:31mbackup ip finished\\e[0m"\n')])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br")])]),t("h2",{attrs:{id:"shell脚本编程及位置变量详解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell脚本编程及位置变量详解"}},[a._v("#")]),a._v(" shell脚本编程及位置变量详解")]),a._v(" "),t("h3",{attrs:{id:"只读和位置变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#只读和位置变量"}},[a._v("#")]),a._v(" 只读和位置变量")]),a._v(" "),t("div",{attrs:{align:"center"}},[t("img",{attrs:{width:"640",src:e(904)}})]),a._v(" "),t("p",[a._v("显示常量："),t("code",[a._v("declare -r")]),a._v("、"),t("code",[a._v("readonly -p")])]),a._v(" "),t("p",[a._v("取位置参数时，"),t("code",[a._v("$10")]),a._v("会被识别成"),t("code",[a._v("$1")]),a._v("和"),t("code",[a._v('"0"')]),a._v("组合，此时应当写为"),t("code",[a._v("${10}")])]),a._v(" "),t("p",[a._v("shift：")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("# 假设参数为a b c d\necho $* # a b c d\nshift \necho $* # b c d\nshift 2\necho $* # d\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br")])]),t("h3",{attrs:{id:"linux中的-和"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux中的-和"}},[a._v("#")]),a._v(" Linux中的()和{}")]),a._v(" "),t("ul",[t("li",[a._v("()：命令组。括号中的命令将会新开一个子shell顺序执行，所以括号中的变量不能够被脚本余下的部分使用。括号中多个命令之间用分号隔开，最后一个命令可以没有分号，各命令和括 号之间不必有空格。")]),a._v(" "),t("li",[a._v("{}：和()相对的，会影响当前环境。")])]),a._v(" "),t("h3",{attrs:{id:"退出状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#退出状态"}},[a._v("#")]),a._v(" 退出状态")]),a._v(" "),t("p",[a._v("进程使用退出状态来报告成功或失败：")]),a._v(" "),t("ul",[t("li",[a._v("0代表成功，1-255代表失败")]),a._v(" "),t("li",[a._v("$? 变量保存最近的命令退出状态")]),a._v(" "),t("li",[a._v("脚本的执行状态由执行的最后一条命令决定")])]),a._v(" "),t("h2",{attrs:{id:"shell架逻辑运算和参数传递实战"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell架逻辑运算和参数传递实战"}},[a._v("#")]),a._v(" shell架逻辑运算和参数传递实战")]),a._v(" "),t("h3",{attrs:{id:"算术运算"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#算术运算"}},[a._v("#")]),a._v(" 算术运算")]),a._v(" "),t("div",{attrs:{align:"center"}},[t("img",{attrs:{width:"640",src:e(905)}})]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("x=10\ny=20\nz=$x+$y   # z=10+20\nlet z=x+y # z=30\nlet z=$x+$y # z=30\nz=$[x+y]  # z=30\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br")])]),t("h3",{attrs:{id:"随机设置输出字符串的颜色"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#随机设置输出字符串的颜色"}},[a._v("#")]),a._v(" 随机设置输出字符串的颜色")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('COLOR=$[RANDOM%7+31] ;ECHO -E "\\e[1;${COLOR}mcolor\\e[0m"\n')])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h3",{attrs:{id:"赋值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#赋值"}},[a._v("#")]),a._v(" 赋值")]),a._v(" "),t("div",{attrs:{align:"center"}},[t("img",{attrs:{width:"200",src:e(906)}})]),a._v(" "),t("h3",{attrs:{id:"练习-编写脚本-root-bin-sumid-sh-计算-etc-passwd文件中的第10个用户和第20用户的id之和"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#练习-编写脚本-root-bin-sumid-sh-计算-etc-passwd文件中的第10个用户和第20用户的id之和"}},[a._v("#")]),a._v(" 练习：编写脚本/root/bin/sumid.sh，计算/etc/passwd文件中的第10个用户和第20用户的ID之和")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('id1=$(cat /etc/passwd |cut -d: -f3 |head -$1 | tail -1)\nid2=$(cat /etc/passwd |cut -d: -f3 |head -$2 | tail -1)\necho "$[$id1+$id2]"\n')])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("p",[a._v("或者")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('[ $# -ne 2 ] && echo "Arg number is 2" && exit\n[[ ! "$1" =~ ^[0-9]+$ ]] && echo "$1 is not digit" && exit\n[[ ! "$2" =~ ^[0-9]+$ ]] && echo "$2 is not digit" && exit\nuid1="`head -n$1 /etc/passwd | tail -n1|cut -d: -f3`"\nuid2="`head -n$2 /etc/passwd | tail -n1|cut -d: -f3`"\nlet r=uid1+uid2\necho $r\n')])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br")])]),t("h2",{attrs:{id:"shell脚本与或非逻辑判断及磁盘管理实战"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell脚本与或非逻辑判断及磁盘管理实战"}},[a._v("#")]),a._v(" shell脚本与或非逻辑判断及磁盘管理实战")]),a._v(" "),t("h3",{attrs:{id:"实现java的三元运算符-效果"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实现java的三元运算符-效果"}},[a._v("#")]),a._v(" 实现java的三元运算符?:效果")]),a._v(" "),t("p",[a._v("短路与和短路或即可")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('x=haha;y=hehe; [ "$x" = "$y" ] && echo equal || echo no equal\n')])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h3",{attrs:{id:"判断两个数字是否相等"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#判断两个数字是否相等"}},[a._v("#")]),a._v(" 判断两个数字是否相等")]),a._v(" "),t("p",[a._v("-eq")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('m=10\nn=20\n[ "$m" -eq "$n" ] && echo equal || echo no equal\n')])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("h3",{attrs:{id:"练习-编写脚本-root-bin-checkdisk-sh-检查磁盘分区空间和inode使用率-如果超过80-就发广播警告空间将满"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#练习-编写脚本-root-bin-checkdisk-sh-检查磁盘分区空间和inode使用率-如果超过80-就发广播警告空间将满"}},[a._v("#")]),a._v(" 练习：编写脚本/root/bin/checkdisk.sh，检查磁盘分区空间和inode使用率，如果超过80%，就发广播警告空间将满")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('usagea=$(df |grep "^/.*sd" |egrep -o "[0-9]{1,3}%" |tr -d % |sort -n |tail -1)\nusageb=$(df -i |grep "^/.*sd" |egrep -o "[0-9]{1,3}%" |tr -d % |sort -n |tail -1)\n[ $usagea -ge 80 -o $usageb -ge 80 ] && wall warning || echo health  # -o是逻辑或\n')])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("h3",{attrs:{id:"练习-编写脚本-root-bin-excute-sh-判断参数文件是否为sh后缀的普通文件-如果是-添加所有人可执行权限-否则提示用户非脚本文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#练习-编写脚本-root-bin-excute-sh-判断参数文件是否为sh后缀的普通文件-如果是-添加所有人可执行权限-否则提示用户非脚本文件"}},[a._v("#")]),a._v(" 练习：编写脚本/root/bin/excute.sh ，判断参数文件是否为sh后缀的普通文件，如果是，添加所有人可执行权限，否则提示用户非脚本文件")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('#!/bin/bash\n#判断用户对指定的文件是否不可读写\n\n[ ! -e $1 ] && echo 文件不存在 && exit 0\n[ -f $1 -a $1{.sh$} ]  && chmod o+x $1 ||echo "非脚本文件"  # -a是逻辑与\n')])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br")])]),t("h3",{attrs:{id:"练习-编写脚本创建用户-并设置初始密码为123456"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#练习-编写脚本创建用户-并设置初始密码为123456"}},[a._v("#")]),a._v(" 练习：编写脚本创建用户，并设置初始密码为123456")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('#!/bin/bash\nid $1 &> /dev/null\n[ $? -eq 0 ] && echo user is exist && exit\nuseradd $1\necho 123456 | passwd --stdin $1 $> /dev/null\necho "$1 is created"\n')])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br")])]),t("h3",{attrs:{id:"在脚本中-要连续执行代码后退出-应当用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在脚本中-要连续执行代码后退出-应当用"}},[a._v("#")]),a._v(" 在脚本中，要连续执行代码后退出，应当用{}")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("false || ( echo cmd1 ; exit ) #这样无法退出脚本，后续命令还会继续执行，原因就是()是开一个子shell执行\nfalse || { echo cmd1 ; exit }\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("h2",{attrs:{id:"shell脚本参数读取、文件测试实战进阶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell脚本参数读取、文件测试实战进阶"}},[a._v("#")]),a._v(" shell脚本参数读取、文件测试实战进阶")]),a._v(" "),t("h3",{attrs:{id:"实现禁止普通用户登录系统"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实现禁止普通用户登录系统"}},[a._v("#")]),a._v(" 实现禁止普通用户登录系统")]),a._v(" "),t("p",[a._v("只需要新建一个文件："),t("code",[a._v("touch /etc/nologin")])]),a._v(" "),t("h3",{attrs:{id:"接受用户输入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#接受用户输入"}},[a._v("#")]),a._v(" 接受用户输入")]),a._v(" "),t("div",{attrs:{align:"center"}},[t("img",{attrs:{width:"400",src:e(907)}})]),a._v('\n```\necho -e "Please input your name:\\c"\nread name\necho Your name is $name\n```\n等同于：\n```\nread -p "Please input your name:" name\necho Your name is $name\n```\n不显示输入：\n```\nread -s -p "Please input you password:" password\n```\n### 练习：鸡兔同笼问题\n```\nread -p " head number " head\nread -p " feet number " feet\nchook=$[(head*4-feet)/2]\nrabbit=$[head-chook]\necho "chook number is $chook ; rabbit number is $rabbit "\n```')])}),[],!1,null,null,null);s.default=n.exports},904:function(a,s,e){a.exports=e.p+"assets/img/只读和位置变量.e04c0097.jpg"},905:function(a,s,e){a.exports=e.p+"assets/img/算术运算.084f0ae9.jpg"},906:function(a,s){a.exports="data:image/jpeg;base64,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"},907:function(a,s,e){a.exports=e.p+"assets/img/使用read命令来接受输入.040da1d3.jpg"}}]);