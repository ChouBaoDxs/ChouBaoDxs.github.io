(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{1011:function(s,a,n){"use strict";n.r(a);var t=n(12),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("div",{staticClass:"custom-block danger"},[n("p",{staticClass:"title"}),n("p",[s._v("视频名称：快速上手 Linux 玩转典型应用"),n("br"),s._v("\n视频地址：https://coding.imooc.com/class/154.html"),n("br"),s._v("\n简介：CentOS 主流操作系统 / VIM 操作技巧 / Linux 命令讲解 / SSH 远程连接工具 / 多语言环境安装"),n("br"),s._v("\n我的评价：★★★★★")])]),s._v(" "),n("p",[s._v("[TOC]")]),s._v(" "),n("h2",{attrs:{id:"第-1-章-课程介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第-1-章-课程介绍"}},[s._v("#")]),s._v(" 第 1 章 课程介绍")]),s._v(" "),n("p",[s._v("本章内容会给大家通览本门课程的所有知识点")]),s._v(" "),n("h3",{attrs:{id:"_1-1-导学"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-导学"}},[s._v("#")]),s._v(" 1-1 导学")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("Linux 有什么作用：\n商业服务器基本都是 Linux\n开源软件都先支持 Linux\n大数据分析、机器学习首选 Linux\n整个互联网地基靠 Linux 撑起来")])]),s._v(" "),n("li",[n("p",[s._v("课程安排：\nLinux 系统、Linux 命令、SSH、WebServer(Apache、Nginx)、数据库(MySQL)、缓存(Redis、MemCache)、应用(PHP、Python、Java)、必备服务(定时任务 crontab、日志切割 Logrotate、日期同步 ntpdate、进程管理 supervisor)")])]),s._v(" "),n("li",[n("p",[s._v("课程收获：\n掌握基本的运维能力")])])]),s._v(" "),n("h2",{attrs:{id:"第-2-章-linux-简介"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第-2-章-linux-简介"}},[s._v("#")]),s._v(" 第 2 章 Linux 简介")]),s._v(" "),n("p",[s._v("本节课会带领大家一起来 了解 Linux 各个发行版历史、介绍 Linux 的应用领域、讲解 Linux 的学习方法和心得。")]),s._v(" "),n("h3",{attrs:{id:"_2-1-什么是-linux"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-什么是-linux"}},[s._v("#")]),s._v(" 2-1 什么是 Linux")]),s._v(" "),n("p",[s._v("Linux：就是一种类 Unix 的操作系统，免费、开源。\n主要的一些发行版本：centos、redhat、debian、ubuntu")]),s._v(" "),n("h3",{attrs:{id:"_2-2-linux-能够做什么事情"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-linux-能够做什么事情"}},[s._v("#")]),s._v(" 2-2 Linux 能够做什么事情")]),s._v(" "),n("p",[s._v("企业服务器\n嵌入式开发(Android 内核就是 Linux)")]),s._v(" "),n("h3",{attrs:{id:"_2-3-linux-的学习方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-linux-的学习方法"}},[s._v("#")]),s._v(" 2-3 Linux 的学习方法")]),s._v(" "),n("p",[s._v("给自己一个 Linux 环境\n先自己尝试搜索解决问题\n学会读懂 Linux 的错误提示")]),s._v(" "),n("h3",{attrs:{id:"_2-4-忘掉-window-的所有东西"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-忘掉-window-的所有东西"}},[s._v("#")]),s._v(" 2-4 忘掉 window 的所有东西")]),s._v(" "),n("p",[s._v("没有 exe 安装程序\n大小写是要区分的\n一切皆文件\n文件后缀名不是那么重要，只是为了好识别而已")]),s._v(" "),n("h2",{attrs:{id:"第-3-章-centos-的安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第-3-章-centos-的安装"}},[s._v("#")]),s._v(" 第 3 章 CentOs 的安装")]),s._v(" "),n("p",[s._v("本节课主要带领大家学习如何通过虚拟机搭建一个 Linux Centos 的操作系统。并讲解目前比较好的云服务器平台。为后续学习 Linux 提供环境准备！")]),s._v(" "),n("h3",{attrs:{id:"_3-1-虚拟机是什么"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-虚拟机是什么"}},[s._v("#")]),s._v(" 3-1 虚拟机是什么")]),s._v(" "),n("p",[s._v("科研解释:虚拟机( Virtual Machine )指通过软件模拟的具有完整硬件系统功能的、运行在一个完全隔离环境中的完整计算机系统\n白话解释:通过软件技术,可以在自己的电脑.上安装另一个操作系统,而不影响原系统")]),s._v(" "),n("p",[s._v("常用的虚拟机软件：VirtualBox、VmWare")]),s._v(" "),n("p",[s._v("安装软件：\nVirtualBox：https://www.virtualbox.org/\nXshell：https://xshell.en.softonic.com/ ，主要用于 ssh 连接")]),s._v(" "),n("h3",{attrs:{id:"_3-2-在虚拟机中安装-centos"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-在虚拟机中安装-centos"}},[s._v("#")]),s._v(" 3-2 在虚拟机中安装 CentOs")]),s._v(" "),n("p",[s._v("下载 64 位的 iso(建议选最小版本 minimal)：官网-https://www.centos.org/download/ ，网易-http://mirrors.163.com/centos/\n打开 VirtualBox，新建一个虚拟机，名称随意，类型选 Linux，版本选 Red Hat(64-bit)——>内存选 1-2G 即可——>硬盘大小 20G 为宜——>选择新建的虚拟机启动——>选择 iso 文件启动并安装")]),s._v(" "),n("h3",{attrs:{id:"_3-3-云服务器介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-云服务器介绍"}},[s._v("#")]),s._v(" 3-3 云服务器介绍")]),s._v(" "),n("p",[s._v("我们自己电脑里的虚拟机和云服务器就差一个公网 ip\n国内常见的云服务提供商：阿里云、腾讯云、网易蜂巢")]),s._v(" "),n("h2",{attrs:{id:"第-4-章-准备工作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第-4-章-准备工作"}},[s._v("#")]),s._v(" 第 4 章 准备工作")]),s._v(" "),n("p",[s._v("本节课主要是对 Centos 优化。替换默认源是为了更快的安装软件、安装 Vim 是为了方便操作文本、网络基本操作。")]),s._v(" "),n("h3",{attrs:{id:"_4-1-课前准备工作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-课前准备工作"}},[s._v("#")]),s._v(" 4-1 课前准备工作")]),s._v(" "),n("h4",{attrs:{id:"查看-ip"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看-ip"}},[s._v("#")]),s._v(" 查看 ip")]),s._v(" "),n("ol",[n("li",[s._v("ifconfig # 需要先"),n("code",[s._v("yum install net-tools -y")])]),s._v(" "),n("li",[n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[s._v(" ```\n ip addr\n vi /etc/sysconfig/network-scripts/ifcfg-xxx # 这个xxx就是ip addr看到的\n 把ONBOOT从no改成yes\n service network restart\n 此时再执行ip addr就能看到内网ip了\n ```\n")])])]),s._v('这里讲师把 VirtualBox 中虚拟机的网络连接方式改为了"桥接"，重启了下虚拟机。然后用 Xshell 连接到虚拟机。')])]),s._v(" "),n("h4",{attrs:{id:"替换默认源"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#替换默认源"}},[s._v("#")]),s._v(" 替换默认源")]),s._v(" "),n("p",[s._v("操作说明：http://mirrors.163.com/.help/centos.html")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("yum install wget -y # 先安装wget\nmv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup\ncd /etc/yum.repos.d\nwget http://mirrors.163.com/.help/CentOS7-Base-163.repo\nyum clean all\nyum makecache\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h4",{attrs:{id:"安装-vim"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装-vim"}},[s._v("#")]),s._v(" 安装 Vim")]),s._v(" "),n("p",[n("code",[s._v("yum install vim")])]),s._v(" "),n("h2",{attrs:{id:"第-5-章-远程连接-ssh-专题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第-5-章-远程连接-ssh-专题"}},[s._v("#")]),s._v(" 第 5 章 远程连接 SSH 专题")]),s._v(" "),n("p",[s._v("本章会重点讲解远程连接工具 SSH，是 Linux 的重点学习点之一。会先介绍 SSH 基础原理和重要性。后讲解 SSH 服务端和客户端的安装。演示如何通过在不同平台 SSH 客户端连接 Centos 服务器、以及通过 SSH KEY 实现免密码登录、讲解管理多台服务器的运维技巧。...")]),s._v(" "),n("h3",{attrs:{id:"_5-1-认识-ssh"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-认识-ssh"}},[s._v("#")]),s._v(" 5-1 认识 SSH")]),s._v(" "),n("p",[s._v("ssh：Secure Shell 安全外壳协议\nSSH 客户端适用于多种平台\nSSH 服务端几乎支持所有 UNIX 平台")]),s._v(" "),n("h3",{attrs:{id:"_5-2-服务器安装-ssh-服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-服务器安装-ssh-服务"}},[s._v("#")]),s._v(" 5-2 服务器安装 SSH 服务")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("安装ssh：yum install openshh-server -y\n启动ssh：service sshd start\n设置开机运行：chkconfig sshd on\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h3",{attrs:{id:"_5-3-客户端安装-ssh-工具"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-客户端安装-ssh-工具"}},[s._v("#")]),s._v(" 5-3 客户端安装 SSH 工具")]),s._v(" "),n("p",[s._v("ssh 是典型的客户端和服务端的交互模式，客户端广泛地支持各个平台\nWindows 有很多工具可以支持 SSH 连接功能，例如 Xshell，Putty，secureCRT\nLinux 平台需要安装客户端软件："),n("code",[s._v("yum install openssh-clients -y")])]),s._v(" "),n("h3",{attrs:{id:"_5-4-客户端链接-ssh-服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-客户端链接-ssh-服务"}},[s._v("#")]),s._v(" 5-4 客户端链接 SSH 服务")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("ssh root@192.168.0.105 # ssh连接到某一台服务器，可以通过-p指定端口，默认是22\nexit    # 退出当前ssh\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_5-5-ssh-config-命令讲解"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-ssh-config-命令讲解"}},[s._v("#")]),s._v(" 5-5 SSH config 命令讲解")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("config 是为了方便我们批量管理多个 ssh")])]),s._v(" "),n("li",[n("p",[s._v("config 存放在~/.ssh/config，没有的话可以"),n("code",[s._v("touch config")]),s._v("新建一个")])]),s._v(" "),n("li",[n("p",[s._v("config 配置语法\nssh 语法关键字：")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("关键字")]),s._v(" "),n("th",[s._v("含义")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("Host")]),s._v(" "),n("td",[s._v("别名")])]),s._v(" "),n("tr",[n("td",[s._v("HostName")]),s._v(" "),n("td",[s._v("主机名")])]),s._v(" "),n("tr",[n("td",[s._v("Port")]),s._v(" "),n("td",[s._v("端口")])]),s._v(" "),n("tr",[n("td",[s._v("User")]),s._v(" "),n("td",[s._v("用户名")])]),s._v(" "),n("tr",[n("td",[s._v("IdentityFile")]),s._v(" "),n("td",[s._v("密钥文件路径")])])])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('# 配置例子：\nhost "mogo"\n    Hostname 192.168.1.108\n    User mogo\n    Port 22\n    IdentityFile ~/.ssh/id_rsa.pub  # 可以不设置\n    IdentitiesOnly yes  # 可以不设置\n\n# 配置完成之后，终端直接执行ssh mogo就能连接了\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])])])]),s._v(" "),n("h3",{attrs:{id:"_5-6-ssh-免密登录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-6-ssh-免密登录"}},[s._v("#")]),s._v(" 5-6 SSH 免密登录")]),s._v(" "),n("h4",{attrs:{id:"ssh-key"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ssh-key"}},[s._v("#")]),s._v(" ssh key")]),s._v(" "),n("ul",[n("li",[s._v("ssh key 使用非对称加密方式生成公钥和私钥")]),s._v(" "),n("li",[s._v("私钥存放在本地~/.ssh 目录")]),s._v(" "),n("li",[s._v("公钥可以对外公开，放在服务器的~/.ssh/authorized_keys")])]),s._v(" "),n("p",[s._v("Linux 生成 ssh key："),n("code",[s._v("ssh-keygen -t rsa(或者dsa)")]),s._v("\nWindows 生成 ssh key：Xshell 菜单栏——>工具——>"),n("code",[s._v("用户密钥管理")]),s._v("或者"),n("code",[s._v("新建用户密钥生成向导")]),s._v("\nMac OS 平台生成 ssh key：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("cd ~/.ssh\nssh-keygen # 然后按向导生成即可，输入文件名之后，密码可以选择不输入(不设置密码方便一点)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h4",{attrs:{id:"将公钥文件放到服务器上"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#将公钥文件放到服务器上"}},[s._v("#")]),s._v(" 将公钥文件放到服务器上")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("cd ~/.ssh\ntouch authorized_keys\nvim authorized_keys\n将生成的公钥内容复制粘贴到该文件中(多个公钥的话，空行隔开即可)，然后保存退出\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h4",{attrs:{id:"ssh-添加另外的私钥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ssh-添加另外的私钥"}},[s._v("#")]),s._v(" ssh 添加另外的私钥")]),s._v(" "),n("p",[n("code",[s._v("ssh-add ~/.ssh/my_rsa")])]),s._v(" "),n("h4",{attrs:{id:"ssh-安全端口"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ssh-安全端口"}},[s._v("#")]),s._v(" SSH 安全端口")]),s._v(" "),n("ul",[n("li",[s._v("端口安全指的是尽量避免服务器的远程连接端口被不法分子知道，为此而改变默认服务端口号的操作")]),s._v(" "),n("li",[s._v("如何修改 ssh 服务端口："),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 修改/etc/ssh/sshd_config配置\nPort 22 # 可以同时监听多个端口\nPort 10086\n# 修改后重启sshd\nservice sshd restart\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])])])]),s._v(" "),n("h2",{attrs:{id:"第-6-章-linux-常用命令讲解"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第-6-章-linux-常用命令讲解"}},[s._v("#")]),s._v(" 第 6 章 Linux 常用命令讲解")]),s._v(" "),n("p",[s._v("要驾驭 Centos 系统，就得熟悉 Linux 的操作命令。本章会和大家一起学习并实践 Linux 基本命令。包括软件操作、文本编辑神器 Vim、服务器硬件资源操作、文本和文件夹操作、用户操作、磁盘相关操作、防火墙安全设置、提权 sudo、不同平台文件上传下载。工欲善其事必先利其器，这些命令都是 Linux 的最常用操作，大家要认真实践练习。...")]),s._v(" "),n("h3",{attrs:{id:"_6-1-linux-常用命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-linux-常用命令"}},[s._v("#")]),s._v(" 6-1 Linux 常用命令")]),s._v(" "),n("h4",{attrs:{id:"软件操作命令-yum"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#软件操作命令-yum"}},[s._v("#")]),s._v(" 软件操作命令 yum")]),s._v(" "),n("p",[s._v("软件包管理器：yum\n安装软件：yum install xxx\n卸载软件：yum remove xxx\n搜索软件：yum search xxx\n清理缓存：yum clean packages\n列出已经安装的软件：yum list\n软件包信息：yum info xxx")]),s._v(" "),n("h3",{attrs:{id:"_6-2-服务器硬件资源信息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-服务器硬件资源信息"}},[s._v("#")]),s._v(" 6-2 服务器硬件资源信息")]),s._v(" "),n("p",[s._v("内存：free -m\n硬盘：df -h\n负载：w/top # load average(最近的 CPU 资源占用情况)：从左到右依次为 1 分钟 5 分钟 15 分钟，0.7 以下为宜\nCPU 个数和核心数：cat /proc/cpuinfo\n格式化硬盘分区：fdisk")]),s._v(" "),n("h3",{attrs:{id:"_6-3-文件操作命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-文件操作命令"}},[s._v("#")]),s._v(" 6-3 文件操作命令")]),s._v(" "),n("h4",{attrs:{id:"linux-文件的目录结构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#linux-文件的目录结构"}},[s._v("#")]),s._v(" Linux 文件的目录结构")]),s._v(" "),n("p",[s._v("根目录：/\n家目录：/home\n临时目录：/tmp\n配置文件目录：/etc\n用户程序目录：/usr")]),s._v(" "),n("h4",{attrs:{id:"文件操作基本命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#文件操作基本命令"}},[s._v("#")]),s._v(" 文件操作基本命令")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("命令")]),s._v(" "),n("th",[s._v("解释")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("ls")]),s._v(" "),n("td",[s._v("查看目录下的文件")])]),s._v(" "),n("tr",[n("td",[s._v("touch")]),s._v(" "),n("td",[s._v("新建文件")])]),s._v(" "),n("tr",[n("td",[s._v("mkdir")]),s._v(" "),n("td",[s._v("新建文件夹，-p 可以递归创建")])]),s._v(" "),n("tr",[n("td",[s._v("cd")]),s._v(" "),n("td",[s._v("进入目录")])]),s._v(" "),n("tr",[n("td",[s._v("rm")]),s._v(" "),n("td",[s._v("删除文件和目录，-r 可以递归删除")])]),s._v(" "),n("tr",[n("td",[s._v("cp")]),s._v(" "),n("td",[s._v("复制")])]),s._v(" "),n("tr",[n("td",[s._v("mv")]),s._v(" "),n("td",[s._v("移动")])]),s._v(" "),n("tr",[n("td",[s._v("pwd")]),s._v(" "),n("td",[s._v("显示路径")])])])]),s._v(" "),n("h3",{attrs:{id:"_6-4-linux-文本编辑神器-vim"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-linux-文本编辑神器-vim"}},[s._v("#")]),s._v(" 6-4 Linux 文本编辑神器--VIM")]),s._v(" "),n("h4",{attrs:{id:"vim-的简单使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vim-的简单使用"}},[s._v("#")]),s._v(" Vim 的简单使用")]),s._v(" "),n("p",[s._v("Vim 是最出名的 Linux 文本编辑器，可以对文件进行各种编辑操作\nVim 安装：yum install vim\nVim 菜鸟教程：http://www.runoob.com/linux/linux-vim.html\n操作过程示例：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("vim imooc   # 新建并以vim打开一个文件\n按一下i # 进入编辑模式，随便写点什么\n按一下esc  # 进入命令模式\n输入:wq # 退出并保存，和:x的区别，:wq会强制更新文件修改时间(即使文件内容没有变化)\n移动光标到文件最后一行：命令模式下，G\n移动光标到文件第一行：命令模式下，gg\n删除光标所在的行：命令模式下，dd\n撤销上一步操作：命令模式下，u\n复制一行并粘贴：命令模式下，yy(复制)——>p(粘贴)\n显示行号：命令模式下，:set number\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h4",{attrs:{id:"文件权限"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#文件权限"}},[s._v("#")]),s._v(" 文件权限")]),s._v(" "),n("p",[s._v("rwx：分别对应可读可写可执行，数字是 421\nll 命令列出文件信息时，权限分为三组，分别对应：所有者、所属组、其他组")]),s._v(" "),n("h4",{attrs:{id:"文件搜索、查找、读取"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#文件搜索、查找、读取"}},[s._v("#")]),s._v(" 文件搜索、查找、读取")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("命令")]),s._v(" "),n("th",[s._v("解释")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("tail")]),s._v(" "),n("td",[s._v("从文件尾部开始读")])]),s._v(" "),n("tr",[n("td",[s._v("head")]),s._v(" "),n("td",[s._v("从文件头部读")])]),s._v(" "),n("tr",[n("td",[s._v("cat")]),s._v(" "),n("td",[s._v("读取整个文件")])]),s._v(" "),n("tr",[n("td",[s._v("more")]),s._v(" "),n("td",[s._v("分页读取")])]),s._v(" "),n("tr",[n("td",[s._v("less")]),s._v(" "),n("td",[s._v("可控分页")])]),s._v(" "),n("tr",[n("td",[s._v("grep")]),s._v(" "),n("td",[s._v("搜索关键字")])]),s._v(" "),n("tr",[n("td",[s._v("find")]),s._v(" "),n("td",[s._v("查找文件")])]),s._v(" "),n("tr",[n("td",[s._v("wc")]),s._v(" "),n("td",[s._v("统计个数")])])])]),s._v(" "),n("p",[s._v("例子：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('grep "11" imooc # 搜索imooc文件中的11字符\ngrep -n "11" imooc # 搜索并显示行数\ncat imooc | wc -l  # 统计文件行数\ngrep "111" imooc | wc -l    # 统计搜索结果行数\nfind . -name "*.py" # 搜索当前目录下，所有名称以.py结尾的文件\n# find命令可以用-type d以及-type f指定搜索文件夹或文件\nfind . -ctime -20  # 将当前目录下近20天更新过的文件列出\n# find可以和rm命令结合使用\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h4",{attrs:{id:"文件解压缩-tar-命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#文件解压缩-tar-命令"}},[s._v("#")]),s._v(" 文件解压缩-tar 命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("压缩文件：tar -cf imooc.tar imooc\n列出压缩文件中有什么：tar -tf imooc.tar # 显示详细信息可以用-tvf\n解压文件：tar -xf imooc.tar\n以gz方式压缩并显示信息：tar -czvf imooc.tar.gz imooc\n查看gz压缩包中的文件信息：tar -tzvf imooc.tar.gz\n解压gz：tar -xzvf imooc.tar.gz\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h3",{attrs:{id:"_6-5-系统用户操作命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-5-系统用户操作命令"}},[s._v("#")]),s._v(" 6-5 系统用户操作命令")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("命令")]),s._v(" "),n("th",[s._v("解释")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("useradd")]),s._v(" "),n("td",[s._v("添加用户")])]),s._v(" "),n("tr",[n("td",[s._v("adduser")]),s._v(" "),n("td",[s._v("添加用户")])]),s._v(" "),n("tr",[n("td",[s._v("userdel")]),s._v(" "),n("td",[s._v("删除用户")])]),s._v(" "),n("tr",[n("td",[s._v("passwd")]),s._v(" "),n("td",[s._v("设置密码")])])])]),s._v(" "),n("p",[s._v("实际操作例子：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("useradd imooc   # 新增一个名为imooc的用户\npasswd imooc    # 给imooc设置密码\nuserdel -r imooc_test   # 彻底删除一个用户，包括home目录下的用户目录，不带-r的话是会保留的\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h4",{attrs:{id:"useradd-与-adduser-区别"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#useradd-与-adduser-区别"}},[s._v("#")]),s._v(" useradd 与 adduser 区别")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("本质都是创建新的用户\n在CentOs下useradd与adduser是没有区别的都是在创建用户，在home下自动创建目录，没有设置密码，需要使用passwd命令修改密码。\n而在Ubuntu下useradd与adduser有所不同\n1、useradd在使用该命令创建用户是不会在/home下自动创建与用户名同名的用户目录，而且不会自动选择shell版本，也没有设置密码，那么这个用户是不能登录的，需要使用passwd命令修改密码。\n2、adduser在使用该命令创建用户是会在/home下自动创建与用户名同名的用户目录，系统shell版本，会在创建时会提示输入密码，更加友好。\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"_6-6-防火墙的设置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-6-防火墙的设置"}},[s._v("#")]),s._v(" 6-6 防火墙的设置")]),s._v(" "),n("p",[s._v("作用：保护服务器安全\n设置防火墙规则：开放 80，22 端口\n关闭防火墙")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("安装：yum install firewalld\n启动：service firewalld start\n检查状态：service firewalld status\n关闭或禁用防火墙：service firewalld stop/disable\n查看版本：firewall-cmd --version\n查看状态：firewall-cmd --state\n查看所有区域：firewall-cmd --get-zones\n查看默认区域：firewall-cmd --get-default-zone\n查看所有区域的配置信息：firewall-cmd --list-all-zone\n关闭ssh服务：firewall-cmd --remove-service=ssh  # 默认是在public下操作，可以--zone=public指定操作区域\n添加ssh服务：firewall-cmd --add-service=ssh\n新开一个端口：firewall-cmd --add-port=22/tcp\n关闭一个端口：firewall-cmd --remove-port=22/tcp\n列出端口：firewall-cmd --list-ports\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("h3",{attrs:{id:"_6-7-提权操作-sudo-和文件上传下载的操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-7-提权操作-sudo-和文件上传下载的操作"}},[s._v("#")]),s._v(" 6-7 提权操作 sudo 和文件上传下载的操作")]),s._v(" "),n("h4",{attrs:{id:"提权-sudo"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#提权-sudo"}},[s._v("#")]),s._v(" 提权 sudo")]),s._v(" "),n("p",[s._v("想要让一个普通用户能够暂时得到 root 权限，需要在命令之前添加 sudo，并且这个用户需要在 sudoers file 文件里。\n将用户添加到 sudoers file：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("visudo  # 编辑sudoers file\n找到%wheel ALL=(ALL) ALL附近新增一行：\n%user_name ALL=(ALL) ALL\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h4",{attrs:{id:"文件下载和上传"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#文件下载和上传"}},[s._v("#")]),s._v(" 文件下载和上传")]),s._v(" "),n("p",[s._v("下载：wget、curl")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("下载百度首页：wget http://www.baidu.com\n下载百度首页：curl -o baidu.html http://www.baidu.com\ncurl使用起来比较麻烦，一般都用wget\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("上传：scp 实际上 scp 就是基于 ssh 协议进行文件传输的")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("scp test.txt imooc@192.168.0.106:/tmp/  # 将test.txt文件上传到目标服务器的tmp目录\nscp imooc@192.168.0.106:/tmp/imooc.txt ./ # 将目标服务器上的/tmp/imooc.txt文件下载到本地当前目录\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("windows 下使用 xshell 进行文件传输：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1. 需要先在服务器上安装sudo yum install lrzsz\n2. 上传文件：rz  然后会弹出一个文件选择框，选择即可上传\n3. 下载文件：sz filename，然后会弹出一个窗口，选择保存的地方\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h2",{attrs:{id:"第-7-章-webserver-安装和配置讲解"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第-7-章-webserver-安装和配置讲解"}},[s._v("#")]),s._v(" 第 7 章 WebServer 安装和配置讲解")]),s._v(" "),n("p",[s._v("本章讲解 WebServer，会分别讲解常用的 Apache 和 Nignx。会重点讲解商业最受欢迎的 Nginx 。课程包括软件的安装、虚拟主机和伪静态的设置、以及 Nginx 的高级技巧 日志格式化、反向代理、负载均衡和调试技巧。")]),s._v(" "),n("h3",{attrs:{id:"_7-1-apache-的安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-apache-的安装"}},[s._v("#")]),s._v(" 7-1 Apache 的安装")]),s._v(" "),n("p",[s._v("基本操作：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("CentOS：\n安装：yum install httpd\n启动：service httpd start\n停止：service httpd stop\n重启：service httpd restart\n可能需要关闭防火墙：sercice firewalld stop\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h3",{attrs:{id:"_7-2-apache-的虚拟主机配置及伪静态操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-apache-的虚拟主机配置及伪静态操作"}},[s._v("#")]),s._v(" 7-2 Apache 的虚拟主机配置及伪静态操作")]),s._v(" "),n("h4",{attrs:{id:"虚拟主机配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#虚拟主机配置"}},[s._v("#")]),s._v(" 虚拟主机配置")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('cd /etc/httpd   # conf是配置文件目录，conf.modules.d是模块的配置文件 modules是模块目录 logs日志目录\ncd conf\nvim httpd.conf  # 看一看\n配置一个虚拟主机：\n<VirtualHost *:80>\n    ServiceName www.imooc.test\n    DocumentRoot /data/www\n    <Directory "/data/www">\n        Options Indexes FollowSymLinks\n        Allow Override None\n        Require all granted\n    </Directory>\n</VirtualHost>\n重启apache：service httpd restart\n修改目录所有者：sudo chown -R imooc:imooc /data\n修改hosts：vim /etc/hosts，添加一行：127.0.0.1 www.imooc.test\n如果还访问不了，可能需要执行：sudo setenforce 0\n    - setenforce是Linux的selinux防火墙配置命令 执行setenforce 0 表示关闭selinux防火墙\n    - setenforce 0只是临时关闭，重启后又会复原，要永久设置，可以vim /etc/selinux/config，修改SELINUX设置项\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("h4",{attrs:{id:"伪静态"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#伪静态"}},[s._v("#")]),s._v(" 伪静态")]),s._v(" "),n("p",[s._v("含义：比如访问一个 php 写的网址，url 会是以.php 结尾，伪静态的意思就是将这个 url 修改为.html 结尾")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('cd /etc/httpd\nvim httpd.conf\n添加一行：\nLoadModule rewrite_module modules/mod_rewrite.so\n然后配置到虚拟主机中：\n<VirtualHost *:80>\n    ServiceName www.imooc.test\n    DocumentRoot /data/www\n    <Directory "/data/www">\n        Options Indexes FollowSymLinks\n        Allow Override None\n        Require all granted\n        <IfModule mod_rewrite.c>\n            RewriteEngine On\n            RewriteRule ^(.*).htmp$ index.html  # 以.htmp结尾的访问url时，全都返回index.html的内容\n        </IfModule>\n    </Directory>\n</VirtualHost>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("h3",{attrs:{id:"_7-3-nginx-的基本操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-3-nginx-的基本操作"}},[s._v("#")]),s._v(" 7-3 Nginx 的基本操作")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("解释")]),s._v(" "),n("th",[s._v("命令")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("安装")]),s._v(" "),n("td",[s._v("yum install nginx")])]),s._v(" "),n("tr",[n("td",[s._v("启动")]),s._v(" "),n("td",[s._v("service nginx start")])]),s._v(" "),n("tr",[n("td",[s._v("停止")]),s._v(" "),n("td",[s._v("service nginx stop")])]),s._v(" "),n("tr",[n("td",[s._v("重载")]),s._v(" "),n("td",[s._v("service nginx reload")])])])]),s._v(" "),n("h4",{attrs:{id:"nginx-拓展知识"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nginx-拓展知识"}},[s._v("#")]),s._v(" Nginx 拓展知识")]),s._v(" "),n("ul",[n("li",[s._v("虚拟主机")]),s._v(" "),n("li",[s._v("多域名、多端口")]),s._v(" "),n("li",[s._v("伪静态")]),s._v(" "),n("li",[s._v("日志格式化")]),s._v(" "),n("li",[s._v("反向代理和负载均衡")]),s._v(" "),n("li",[s._v("调试技巧")])]),s._v(" "),n("h4",{attrs:{id:"安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1. 添加CentOS 7 Nginx yum资源库：\nsudo rpm -Uvh http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm\n2. 安装\nyum install -y nginx\n3. 安装目录(可以whereis nginx查一下)\ncd /etc/nginx/  # conf.d是配置文件目录，在nginx.conf文件中一般都会有一句include来把这个目录下的配置文件加载进来\n    include /etc/nginx/conf.d/*.conf;\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h4",{attrs:{id:"小知识"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#小知识"}},[s._v("#")]),s._v(" 小知识")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("service nginx reload")]),s._v("是无缝重启 nginx")]),s._v(" "),n("li",[s._v("可以用"),n("code",[s._v("nginx -V")]),s._v("查看 nginx 各种文件位置，mac 下配置文件在"),n("code",[s._v("/usr/local/etc/nginx/")])])]),s._v(" "),n("h4",{attrs:{id:"nginx-多域名多端口最简单的配置例子"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nginx-多域名多端口最简单的配置例子"}},[s._v("#")]),s._v(" Nginx 多域名多端口最简单的配置例子")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("server {\n    listen 80;\n    listen 9999;\n    server_name www.imooc.test www.imooc3.test;\n    root /data/www;\n    index index.html index.htm;\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h3",{attrs:{id:"_7-4-nginx-伪静态的实现"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-nginx-伪静态的实现"}},[s._v("#")]),s._v(" 7-4 Nginx 伪静态的实现")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("server {\n    listen 80;\n    listen 9999;\n    server_name www.imooc.test www.imooc3.test;\n    root /data/www;\n    index index.html index.htm;\n    location / {\n        rewrite ^(.*)\\.htmp$ /index.html;\n    }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h4",{attrs:{id:"重新定义日志格式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#重新定义日志格式"}},[s._v("#")]),s._v(" 重新定义日志格式")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('http {\n    ...\n    log_format  main  \'$remote_addr - $remote_user [$time_local] "$request" \'\n                      \'$status $body_bytes_sent "$http_referer" \'\n                      \'"$http_user_agent" "$http_x_forwarded_for"\';\n    log_format my_log_conf \'$remote_addr - "$http_user_agent"\'\n    #access_log  logs/access.log  main;\n    access_log  logs/access.log  my_log_conf;\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("h3",{attrs:{id:"_7-5-实例演示反向代理和负载均衡"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-5-实例演示反向代理和负载均衡"}},[s._v("#")]),s._v(" 7-5 实例演示反向代理和负载均衡")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("upstream imooc_hosts {\n    # 默认是负载均衡策略是顺序循环\n    # server 118.89.106.129:80;\n    # server 192.168.0.106:80;\n    # 可以设置权重\n    server 118.89.106.129:80 weight=5;\n    server 192.168.0.106:80 weight=1;\n}\nserver {\n    listen 80;\n    listen 9999;\n    server_name www.imooc.test www.imooc3.test;\n    root /data/www;\n    index index.html index.htm;\n    access_log /var/log/nginx/access_imooc.log my_log_conf;\n    location / {\n        #rewrite ^(.*)\\.htmp$ /index.html;\n\n        proxy_set_header Host www.54php.cn;\n        #proxy_pass http://118.89.106.129:80; # 就反向代理一台\n        proxy_pass http://imooc_hosts; # 反向代理一组服务器\n    }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])]),n("h3",{attrs:{id:"nginx-调试技巧"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nginx-调试技巧"}},[s._v("#")]),s._v(" Nginx 调试技巧")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('server {\n    listen 80;\n    listen 9999;\n    add_header Content-Type "text/plain;charset=utf-8";\n    return 200 "$http_host";    # 直接返回当前的域名给浏览器\n    ...\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h2",{attrs:{id:"第-8-章-数据库服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第-8-章-数据库服务"}},[s._v("#")]),s._v(" 第 8 章 数据库服务")]),s._v(" "),n("p",[s._v("没有数据库的程序叫页面而已。本章会重点讲解最流行的开源数据库 Mysql。包括 Mysql 的安装、密码初始化、远程连接、General Log、新建用户、分配权限、root 密码重置。")]),s._v(" "),n("h3",{attrs:{id:"_8-1-mysql-安装及链接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-mysql-安装及链接"}},[s._v("#")]),s._v(" 8-1 Mysql 安装及链接")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("解释")]),s._v(" "),n("th",[s._v("命令")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("安装服务端")]),s._v(" "),n("td",[s._v("yum install mysql-community-server")])]),s._v(" "),n("tr",[n("td",[s._v("启动")]),s._v(" "),n("td",[s._v("service mysqld start/restart")])]),s._v(" "),n("tr",[n("td",[s._v("停止")]),s._v(" "),n("td",[s._v("service mysqld stop")])])])]),s._v(" "),n("p",[s._v("MySQL 客户端工具：SQLyog、Navicat、HeidiSQL、Sequal Pro、phpMyadmin")]),s._v(" "),n("h4",{attrs:{id:"mysql-安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mysql-安装"}},[s._v("#")]),s._v(" MySQL 安装")]),s._v(" "),n("ol",[n("li",[s._v("CentOS7 默认安装了 mariadb，讲师这里先移除")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("yum search mysql | grep mariadb # 结果中找到mariadb-libs.x86_64\nyum remove mariadb-libs.x86_64\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("ol",{attrs:{start:"2"}},[n("li",[s._v("去这里(https://dev.mysql.com/downloads/mysql/5.7.html#downloads)找到 yum 源，右键复制好下载链接进行 wget")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-community-server-5.7.25-1.el7.x86_64.rpm\nyum localinstall mysql-community-server-5.7.25-1.el7.x86_64.rpm\nyum search mysql\nyum install mysql-community-server -y\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("ol",{attrs:{start:"3"}},[n("li",[s._v("一些命令")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("查看新安装完mysql的默认密码：cat /var/log/mysqld.log | grep password\n查看服务是否启动：ps -ef | grep mysql\n重启mysql：service mysqld restart\n讲师直接连接mysql：mysql -uroot -p3wKFgwPD3p?g\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"_8-2-远程链接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-远程链接"}},[s._v("#")]),s._v(" 8-2 远程链接")]),s._v(" "),n("p",[s._v("tips：禁止 mysql -uroot -p123456 直接连入，推荐 mysql -uroot -p，因为 history 命令可以查到历史命令而暴露密码\n想要登录指定的数据库："),n("code",[s._v("mysql -h10.0.0.66 -P3306 -uroot -p")])]),s._v(" "),n("h4",{attrs:{id:"修改初始密码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#修改初始密码"}},[s._v("#")]),s._v(" 修改初始密码")]),s._v(" "),n("p",[s._v("在用初始密码连入 mysql 之后，进行以下操作")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 假如想要设置\"123456\"这种简单密码，需要执行下面这两句\nset global validate_password_policy=0;\nset global validate_password_length=1;\n# 修改初始密码\nSET PASSWORD = PASSWORD('123456');\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h4",{attrs:{id:"设置用户允许远程连接-以-root-账户为例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#设置用户允许远程连接-以-root-账户为例"}},[s._v("#")]),s._v(" 设置用户允许远程连接(以 root 账户为例)")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("user mysql;\n# SELECT Host,User FROM user \\G;   # 心情好可以查一下看看\nupdate `user` set Host = '%' where User = 'root' and Host = 'localhost';\nflush privileges; # 想要刷新权限，重启mysql也是可以的：service mysqld restart\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"_8-3-开启-genelog"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_8-3-开启-genelog"}},[s._v("#")]),s._v(" 8-3 开启 genelog")]),s._v(" "),n("p",[s._v("genelog 作用：记录所有 sql 语句到日志中，在开启时，所有对数据库的操作都将被记录 general.log 文件")]),s._v(" "),n("h4",{attrs:{id:"genelog-设置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#genelog-设置"}},[s._v("#")]),s._v(" genelog 设置")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('mysql -uroot -p\nset global general_log_file="/tmp/general.log"; # 设置日志路径\nset global general_log=on;  # 开启日志，关闭是设置为off\n# 设置完不需要重启mysql\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h4",{attrs:{id:"测试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#测试"}},[s._v("#")]),s._v(" 测试")]),s._v(" "),n("p",[s._v("在一个终端窗口中执行"),n("code",[s._v("tail -f /tmp/general.log")]),s._v("，以监视文件变化\n在另一个窗口中执行一些数据库操作语句，看看效果")]),s._v(" "),n("h4",{attrs:{id:"新建权限和赋权"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#新建权限和赋权"}},[s._v("#")]),s._v(" 新建权限和赋权")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 新建用户\nCREATE USER 'imooc'@'%' IDENTIFIED BY '123456';\n# 赋予全部权限，*.*代表任意库任意表，imooc是用户名，%是host，123456是这个人的密码\nGRANT ALL PRIVILEGES ON *.* TO 'imooc'@'%' IDENTIFIED BY '123456' WITH GRANT OPTION;\n# 只赋予增删改查权限\nGRANT select,insert,update,delete ON *.* TO 'imooc'@'%' IDENTIFIED BY '123456' WITH GRANT OPTION;\n# 注意需要刷新权限\nFLUSH PRIVILEGES;\n\n# 收回权限\nREVOKE ALL PRIVILEGES ON *.* FROM imooc;\nFLUSH PRIVILEGES;\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("h4",{attrs:{id:"忘记-root-密码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#忘记-root-密码"}},[s._v("#")]),s._v(" 忘记 root 密码")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1. 在/etc/my.cnf文件中加入 skip-grant-tables\n2. 此时mysql -uroot -p可以直接进入mysql\n3. 修改密码\n    use mysql;\n    update user set authentication_string=password('456789') where user='root';\n    authentication_string这个字段可能是password：\n    update user set password=password(\"456789\") where user='root';\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h2",{attrs:{id:"第-9-章-缓存服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第-9-章-缓存服务"}},[s._v("#")]),s._v(" 第 9 章 缓存服务")]),s._v(" "),n("p",[s._v("缓存服务是一个商业系统中最要的一环，好的缓存服务可以为系统提供更快更好的服务 。本章会介绍比较流行的两款内存缓存 Redis 和 Memcache。包括 memcache 的 yum 安装、redis 的源码安装。并通过 telnet 命令行对缓存服务进行操作演示。")]),s._v(" "),n("h3",{attrs:{id:"_9-1-redis、memcache-介绍及安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9-1-redis、memcache-介绍及安装"}},[s._v("#")]),s._v(" 9-1 Redis、Memcache 介绍及安装")]),s._v(" "),n("h4",{attrs:{id:"memcached-基本操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#memcached-基本操作"}},[s._v("#")]),s._v(" memcached 基本操作")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("解释")]),s._v(" "),n("th",[s._v("命令")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("安装")]),s._v(" "),n("td",[s._v("yum install memcached")])]),s._v(" "),n("tr",[n("td",[s._v("启动")]),s._v(" "),n("td",[s._v("memcached -d(守护进程) -l(监听 host) -m(分配内存) -p(端口号,默认 11211)")])]),s._v(" "),n("tr",[n("td",[s._v("停止")]),s._v(" "),n("td",[s._v("kill pid")])])])]),s._v(" "),n("h4",{attrs:{id:"redis-基本操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#redis-基本操作"}},[s._v("#")]),s._v(" redis 基本操作")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("解释")]),s._v(" "),n("th",[s._v("命令")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("安装")]),s._v(" "),n("td",[s._v("源码编译安装")])]),s._v(" "),n("tr",[n("td",[s._v("启动")]),s._v(" "),n("td",[s._v("redis-server start-restart")])]),s._v(" "),n("tr",[n("td",[s._v("停止")]),s._v(" "),n("td",[s._v("redis-server stop")])]),s._v(" "),n("tr",[n("td",[s._v("客户端")]),s._v(" "),n("td",[s._v("redis-client")])])])]),s._v(" "),n("h4",{attrs:{id:"redis-拓展知识"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#redis-拓展知识"}},[s._v("#")]),s._v(" Redis 拓展知识")]),s._v(" "),n("ul",[n("li",[s._v("Redis 不仅仅支持简单的 k/v 类型的数据,同时还提供 list,set,hash 等数据结构的存储")]),s._v(" "),n("li",[s._v("Redis 支持数据的备份,即 master-slave 模式的数据备份")]),s._v(" "),n("li",[s._v("Redis,支持数据的持久化,可以将内存中的数据保持在磁盘中,重启的时候可以再次加载进行使用")])]),s._v(" "),n("h4",{attrs:{id:"实际操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#实际操作"}},[s._v("#")]),s._v(" 实际操作")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("yum install memcached -y    # 安装memcached\nman memcached # 查看命令行帮助\nmemcached   # 不指定任何参数，直接启动memcached\nps -ef | grep memcached # 查看服务是否已经启动\nnetstat -anpl | grep memcached # 查看服务占用的端口\ntelnet 127.0.0.1 11211 # telnet可以查看一个ip的端口是否可用，安装：yum install telnet.*\n# telnet  127.0.0.1 11211 同时也会进入和memcached的交互状态，因为telnet支持数据报交互\n# 操作memcached\n    set imooc 0 60 5\n    hello\n    get imooc\n    delete imooc\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("h3",{attrs:{id:"_9-2-redis-的基本操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9-2-redis-的基本操作"}},[s._v("#")]),s._v(" 9-2 Redis 的基本操作")]),s._v(" "),n("h4",{attrs:{id:"安装-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装-2"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("wget http://download.redis.io/releases/redis-5.0.4.tar.gz # 官网可以找到\ntar -xzvf redis-5.0.4.tar.gz\ncd redis-5.0.4\nmake    # 可能报错，需要yum install gcc，报其他错就百度\nmake install\ncd /src\n./redis-server  # 启动redis\nnetstat -anpl | grep redis  # 查看启动的redis服务\n./redis-cli # 进入命令行交互\n127.0.0.1:6379>CONFIG SET protected-mode no # 关闭保护模式，让telnet可以连接\n\ntelnet 127.0.0.1 6379\nset imooc hello\nget imooc\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("h2",{attrs:{id:"第-10-章-git-安装和使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第-10-章-git-安装和使用"}},[s._v("#")]),s._v(" 第 10 章 Git 安装和使用")]),s._v(" "),n("p",[s._v("作为互联网的一员，Git 是必须要了解的一个专业技能。Git 是最流行的分布式去中心化版本管理工具。包括 git 的安装、基本操作命令、免密操作。")]),s._v(" "),n("h3",{attrs:{id:"_10-1-git-版本管理工具-上"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_10-1-git-版本管理工具-上"}},[s._v("#")]),s._v(" 10-1 git 版本管理工具(上)")]),s._v(" "),n("h4",{attrs:{id:"安装和使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装和使用"}},[s._v("#")]),s._v(" 安装和使用")]),s._v(" "),n("p",[s._v("安装："),n("code",[s._v("yum install git")]),s._v("\ngit 常用命令：git config、git clone、git fetch、git rebase、git init、git remote、git commit、git push\n讲师使用的 git 仓库例子：码云\nrsa 公私钥生成，公钥配置到 git：略略略，不会就百度\ngit 的使用：略略略，不会就百度")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("git remote add origin git@.....    # 添加一个远程仓库\ngit fetch + git rebase origin/master    # 拉取并合并分支，简写为git pull\n推荐git学习网址：http://www.runoob.com/git/git-tutorial.html\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("我推荐自己搭建一下 git 服务器练手：gitlab(docker 一键搭建，对资源要求较高，内存推荐就是 4G)，gogs(国人使用 go 写的轻量级 git 服务器)")]),s._v(" "),n("h3",{attrs:{id:"_10-2-git-版本管理工具-下"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_10-2-git-版本管理工具-下"}},[s._v("#")]),s._v(" 10-2 git 版本管理工具（下）")]),s._v(" "),n("h4",{attrs:{id:"git-命令自动补全设置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#git-命令自动补全设置"}},[s._v("#")]),s._v(" git 命令自动补全设置")]),s._v(" "),n("p",[s._v("需要一个"),n("code",[s._v("git-completion.bash")]),s._v("文件，想办法搞到就行")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("git clone git@github.com:git/git.git    # git-completion.bash就在这里面\ncp contrib/completion/git-completion.bash /etc/bash_completion.d/\n# 复制bash文件\n# 使用vim编辑~/.bash_profile，添加以下几行\n# Git bash autoload\nif [ -f /etc/bash_completion.d/git-completion.bash ]; then\n    source /etc/bash_completion.d/git-completion.bash\nfi\n# 让.bash_profile生效\nsource .bash_profile\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h2",{attrs:{id:"第-11-章-php-框架-tp5-lavaral-yii2-0-环境配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第-11-章-php-框架-tp5-lavaral-yii2-0-环境配置"}},[s._v("#")]),s._v(" 第 11 章 Php 框架 TP5，Lavaral Yii2.0 环境配置")]),s._v(" "),n("p",[s._v("MVC 框架是所有开发语言的基本，本次课程会讲解 PHP 吉祥三宝 Yii2、TP5、Laravel5 的运行环境配置 。并融合 Nginx、Mysql、Redis、Memcache，演示多服务的配合")]),s._v(" "),n("h3",{attrs:{id:"_11-1-php-基础运行环境搭建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_11-1-php-基础运行环境搭建"}},[s._v("#")]),s._v(" 11-1 PHP 基础运行环境搭建")]),s._v(" "),n("p",[s._v("LAMP/LNMP 环境配置")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("缩写")]),s._v(" "),n("th",[s._v("解释")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("L")]),s._v(" "),n("td",[s._v("Linux 我们使用 CentOS")])]),s._v(" "),n("tr",[n("td",[s._v("A")]),s._v(" "),n("td",[s._v("Apache WebServer")])]),s._v(" "),n("tr",[n("td",[s._v("N")]),s._v(" "),n("td",[s._v("Nginx WebServer")])]),s._v(" "),n("tr",[n("td",[s._v("M")]),s._v(" "),n("td",[s._v("MySQL")])]),s._v(" "),n("tr",[n("td",[s._v("P")]),s._v(" "),n("td",[s._v("FPM+PHP")])])])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("yum search php\nyum info php    # 本课程要安装PHP5.6以上版本\n1：默认版本太低（5.4） 升级php 到5.6\n1.1.检查当前安装的PHP包\n    yum list installed | grep php\n1.2如果有安装的PHP包，先删除他们\n \tyum remove php.x86_64 php-cli.x86_64 php-common.x86_64 php-gd.x86_64 php-ldap.x86_64 php-mbstring.x86_64 php-mcrypt.x86_64 php-mysql.x86_64 php-pdo.x86_64\n2 ： 配置源\n    sudo rpm -Uvh http://mirror.webtatic.com/yum/el7/epel-release.rpm\n    sudo rpm -Uvh http://mirror.webtatic.com/yum/el7/webtatic-release.rpm\n    如果想删除上面安装的包，重新安装\n    rpm -qa | grep webstatic\n    rpm -e  上面搜索到的包即可\n3：fpm 安装 和 基本操作 # FPM是进程管理器，专门用来管理php\n\tsudo yum install php56w-fpm( 也可以php55w-fpm  php70w-fpm  )\n\tservice php56w-fpm start/restart/stop\n4：安装PHP扩展\n\tsudo yum install php56w.x86_64 php56w-cli.x86_64 php56w-common.x86_64 php56w-gd.x86_64 php56w-mbstring.x86_64 php56w-mcrypt.x86_64 php56w-mysql.x86_64 php56w-pdo.x86_64\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("h3",{attrs:{id:"_11-2-laravel-运行环境配置-上"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_11-2-laravel-运行环境配置-上"}},[s._v("#")]),s._v(" 11-2 Laravel 运行环境配置(上)")]),s._v(" "),n("p",[s._v("合并到下一节...")]),s._v(" "),n("h3",{attrs:{id:"_11-3-laravel-运行环境配置-下"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_11-3-laravel-运行环境配置-下"}},[s._v("#")]),s._v(" 11-3 Laravel 运行环境配置(下)")]),s._v(" "),n("p",[s._v("PHP 三大 web 框架：laravel、thinkphp5、yii2\nlaravel：\n中文官网地址：http://www.golaravel.com/\ngithub 地址：https://github.com/laravel/laravel\nyii：\n中文官网地址：https://www.yiichina.com/\n中文文档社区：https://www.yiichina.com/doc\ngithub 地址：https://github.com/yiisoft/yii2\nThinkPHP5：\n官网地址：http://www.thinkphp.cn/\ngithub 地址：https://github.com/top-think/think")]),s._v(" "),n("h4",{attrs:{id:"laravel-运行环境配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#laravel-运行环境配置"}},[s._v("#")]),s._v(" Laravel 运行环境配置")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("cd /data/www\ngit clone https://github.com/laravel/laravel.git --depth=1\n# 添加一个nginx配置文件\n    cd /etc/nginx/conf.d\n    cp imooc.conf laravel.conf\n    vim laravel.conf  # 填入以下内容\n        server {\n            listen 80;\n            server_name laravel.imooc.test;\n            root /data/www/laravel/public;\n            index index.php index.html;\n            access_log /var/log/nginx/access_laravel.log imooc;\n            location / {\n                try_files $uri $uri/ /index.php?$args;\n            }\n            location ~ \\.php$ {\n                include fastcgi_params;\n                fastcgi_pass 127.0.0.1:9000;\n                fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n                try_files $uri=404;\n            }\n        }\n    nginx -s reload\n    netstat -anpl | grep fpm    # 查看fpm占用的端口\n    # fpm的配置文件：vim /etc/php-fpm.conf\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br")])]),n("h3",{attrs:{id:"_11-4-yii2-0-tp-5-0-框架配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_11-4-yii2-0-tp-5-0-框架配置"}},[s._v("#")]),s._v(" 11-4 yii2.0 TP 5.0 框架配置")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# yii2\ncd /data/www\ngit clone https://github.com/yiisoft/yii2.git\n# 新增一个配置文件\n    cd /etc/nginx/conf.d\n    cp laravel.conf yii2.conf\n    编辑一下conf内容，只需要修改一下server_name和日志路径，其它都和laravel一样的\n# TP5\ncd /data/www\ngit clone https://github.com/top-think/think\n后面就是新增一个nginx配置文件，略\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("h3",{attrs:{id:"_11-5-phpmyadmin-的配置安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_11-5-phpmyadmin-的配置安装"}},[s._v("#")]),s._v(" 11-5 PhpMyadmin 的配置安装")]),s._v(" "),n("p",[s._v("官网：https://www.phpmyadmin.net/\n下载页面：https://www.phpmyadmin.net/downloads/")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("unzip xxx.zip\nmv xxx phpmyadmin\ncd /etc/nginx/conf.d\ncp yii2.conf phpmyadmin.conf\nvim phpmyadmin.conf\n    # 只需要修改一下server_name和access_log的名字中关键的部分即可\nnginx -s reload\n# phpmyadmin可以配置连接其它服务器的数据库，百度`phpmyadmin配置多服务器`\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h3",{attrs:{id:"_11-6-phpredisadmin-的配置安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_11-6-phpredisadmin-的配置安装"}},[s._v("#")]),s._v(" 11-6 PhpRedisAdmin 的配置安装")]),s._v(" "),n("p",[s._v("github 地址：https://github.com/erikdubbelboer/phpRedisAdmin\n演示地址：http://dubbelboer.com/phpRedisAdmin/")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("cd /data/www\ngit clone https://github.com/erikdubbelboer/phpRedisAdmin.git\nmv phpRedisAdmin phpredissdmin # 为了后面写网址方便\ncd /etc/nginx/conf.d\ncp phpmyadmin.conf phpredissdmin.conf\nvim phpredissdmin.conf\n    # 只需要修改一下server_name和access_log的名字中关键的部分即可\nnginx -s reload\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h2",{attrs:{id:"第-12-章-java-运行环境配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第-12-章-java-运行环境配置"}},[s._v("#")]),s._v(" 第 12 章 Java 运行环境配置")]),s._v(" "),n("p",[s._v("Java 是非常流行的后端编程语言。一直稳居最受开发者欢迎的开发语言之一。本章会讲解 JDK、tomcat、maven 的安装，tomcat 操作命令。")]),s._v(" "),n("h3",{attrs:{id:"_12-1-java-运行环境配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-1-java-运行环境配置"}},[s._v("#")]),s._v(" 12-1 Java 运行环境配置")]),s._v(" "),n("h4",{attrs:{id:"java-安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#java-安装"}},[s._v("#")]),s._v(" Java 安装")]),s._v(" "),n("p",[n("code",[s._v("sudo yum -y install java-1.8.0-openjdk*")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("yum search java # 随便找一找\nsudo yum -y install java-1.8.0-openjdk* -y\njava -version\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h4",{attrs:{id:"tomcat-安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#tomcat-安装"}},[s._v("#")]),s._v(" Tomcat 安装")]),s._v(" "),n("p",[s._v("官网：http://tomcat.apache.org/\nTomcat9 下载地址： http://apache.fayea.com/tomcat/tomcat-9/v9.0.0.M22/bin/apache-tomcat-9.0.0.M22.tar.gz")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("wget http://apache.fayea.com/tomcat/tomcat-9/v9.0.0.M22/bin/apache-tomcat-9.0.0.M22.tar.gz\ntar -xzvf apache-tomcat-9.0.0.M22.tar.gz\nmv apache-tomcat-9.0.0.M22 tomcat # 改个目录名字，看个人喜好\ncd tomcat\nsh bin/version.sh   # 查看版本\nsh bin/startup.sh    # 启动\nps -ef | grep tomcat    # 同时可以访问8080端口看看页面\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h4",{attrs:{id:"maven-安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#maven-安装"}},[s._v("#")]),s._v(" Maven 安装")]),s._v(" "),n("p",[s._v("官网：http://maven.apache.org/\nMaven 下载地址：http://mirror.bit.edu.cn/apache/maven/maven-3/3.5.0/binaries/apache-maven-3.5.0-bin.tar.gz")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("wget http://mirror.bit.edu.cn/apache/maven/maven-3/3.5.0/binaries/apache-maven-3.5.0-bin.tar.gz\ntar -xzvf apache-maven-3.5.0-bin.tar.gz\nmv apache-maven-3.5.0-bin maven\ncd maven\n./bin/mvn --help\nln -s ~/maven/bin/mvn /usr/bin/mvn  # 建立软连接\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h4",{attrs:{id:"tomcat-和-nginx-配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#tomcat-和-nginx-配置"}},[s._v("#")]),s._v(" Tomcat 和 Nginx 配置")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("cd /etc/nginx/conf.d/\ncp yii2.conf java.conf  # 随便复制一份配置文件\nvim java.conf\n---填入以下内容\nserver {\n    listen 80;\n    server_name java.imooc.test;\n    location / {\n        proxy_pass http://127.0.0.1:8080\n    }\n}\n---\nnginx -s reload\nping java.imooc.test\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("h3",{attrs:{id:"_12-2-maven-高级使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-2-maven-高级使用"}},[s._v("#")]),s._v(" 12-2 maven 高级使用")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("将一个用maven进行依赖管理的java工程上传到服务器，比如工程名为hello_world，根目录至少有pom.xml以及src\nunzip hello_world.zip\ncd hello_world\nmvn clean package   # 打包完会生成一个target目录\ncd target   # 执行ll，会看到有一个war包，我们只需要把war包扔到tomcat里\n\ncd ~/tomcat/webapps\ncp hello_world.war ~/tomcat/webapps # 只要tomcat启动着，tomcat会自动解压这个war包\n在浏览器中输入java.imooc.text/hello_world就能访问到了\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("h2",{attrs:{id:"第-13-章-python-运行环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第-13-章-python-运行环境"}},[s._v("#")]),s._v(" 第 13 章 Python 运行环境")]),s._v(" "),n("p",[s._v("Python 是个人最推荐学习的第二母开发语言，目前 Python 在机器学习方面有非常好的库，方便开发者学习。本章会介绍 pip 安装、虚拟环境的使用，flask 框架的讲解。")]),s._v(" "),n("h3",{attrs:{id:"_13-1-python-运行环境配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_13-1-python-运行环境配置"}},[s._v("#")]),s._v(" 13-1 Python 运行环境配置")]),s._v(" "),n("p",[s._v("软件包管理工具：pip\n虚拟环境：virtualenv\n模块安装：pip install")]),s._v(" "),n("h4",{attrs:{id:"安装-pip、virtualenv"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装-pip、virtualenv"}},[s._v("#")]),s._v(" 安装 pip、virtualenv")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("sudo yum  install python2-pip\nsudo yum clean all\n# pip 换成豆瓣源\n    mkdir ~/ .pip\n    vim ~/ .pip/pip.conf\n    ---填入以下内容\n    [global]\n    timeout=60\n    index-url=https://pypi.doubanio.com/simple\n    ---\n# 也可以在安装依赖时指定安装源\npip install -i https://pypi.doubanio.com/simple/ virtualenv\n# 安装虚拟环境virtualenv\npip install virtualenv\n# 新建一个虚拟环境\nvirtualenv imooc\n# 激活这个虚拟环境\nsource imooc/bin/active\nPS：我推荐使用virtualenvwrapper增强功能\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("h3",{attrs:{id:"_13-2-python-flask-高级应用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_13-2-python-flask-高级应用"}},[s._v("#")]),s._v(" 13-2 Python flask 高级应用")]),s._v(" "),n("p",[s._v("安装 flask："),n("code",[s._v("pip install -i https://pypi.doubanio.com/simple/ --trusted-host pypi.doubanio.com flask")]),s._v("\n操作示例：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("vim hello.py\n---写入以下代码\nfrom flask import Flask\napp = Flask(__name__)\n\n@app.route('/')\ndef hello_world():\n    return 'Hello World!'\n\nif __name__ == '__main__':\n    app.run()\n    # app.run(host='0.0.0.0') # 需要外网访问就写成这样\n---\npython hello.py # 启动，flask默认端口是5000\n# 接下来搞搞nginx\ncd /etc/nginx/conf.d\ncp java.conf flask.conf\nvim flask.conf\n---填入以下内容\nserver {\n    listen 80;\n    server_name python.imooc.test;\n    location / {\n        proxy_pass http://127.0.0.1:5000\n    }\n}\n---\nnginx -s reload\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])]),n("h2",{attrs:{id:"第-14-章-服务管理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第-14-章-服务管理"}},[s._v("#")]),s._v(" 第 14 章 服务管理")]),s._v(" "),n("p",[s._v("Linux 中有我们需要了解几个重要服务包括：crontab 定时任务管理工具、时间同步服务、Logrotate 日志切割服务、supervisor 进程管理服务。")]),s._v(" "),n("h3",{attrs:{id:"_14-1-linux-常见服务-crontab、ntpdate"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_14-1-linux-常见服务-crontab、ntpdate"}},[s._v("#")]),s._v(" 14-1 Linux 常见服务-Crontab、Ntpdate")]),s._v(" "),n("h4",{attrs:{id:"必须知道的-linux-服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#必须知道的-linux-服务"}},[s._v("#")]),s._v(" 必须知道的 Linux 服务")]),s._v(" "),n("p",[s._v("crontab：定时任务\nntpdate：日期同步\nLogrotate：日志切割\nsupervisor：进程管理")]),s._v(" "),n("h4",{attrs:{id:"crontab"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#crontab"}},[s._v("#")]),s._v(" crontab")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('crontab -e # 进入定时任务编辑文件,编辑方式和vi一模一样\n# 写一个测试文件cron.php\n    <?php\n        echo time()."\\r\\n";\n# 配置一下定时任务\n    crontab -e\n    # 新增一行，>>代表追加输出，>代表覆盖输出\n    */1 * * * * php /data/www/cron.php >> /tmp/crontab.log\n    # 完成编辑后等待定时任务执行，可以用tail看看输出\n    tail -f /tmp/cron.log\ncrontab -l  # 查看当前的定时任务配置\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("h4",{attrs:{id:"ntpdate"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ntpdate"}},[s._v("#")]),s._v(" Ntpdate")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("yum install ntp -y  # 安装\ndate    # 查看当前时间\nntpdate cn.pool.ntp.org # 同步中国时间\n# 更改时区操作\n    ll /etc/localtime\n    # 先删除这个软连接\n    rm /etc/localtime\n    date    # 此时会输出UTC时间\n    # 建立上海时区的软连接\n    ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n    date    # 此时会输出上海时间\n# 配置定时同步标准时间的crontab\n*/30 * * * * ntpdate cn.pool.ntp.org\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("h3",{attrs:{id:"_14-2-linux-常见服务-logrotate-supervisor"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_14-2-linux-常见服务-logrotate-supervisor"}},[s._v("#")]),s._v(" 14-2 Linux 常见服务--Logrotate.Supervisor")]),s._v(" "),n("h4",{attrs:{id:"logrotate"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#logrotate"}},[s._v("#")]),s._v(" Logrotate")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("cd /etc/logrotate.d/\nll\nvim nginx   # 看看nginx的日志切割配置如下：\n    /var/log/nginx/*log {\n        create 0644 nginx nginx\n        daily   # 其他可选：week month year\n        rotate 10   # 保留日志文件数\n        dateext     # 文件名日期后缀\n        missingok\n        notifempty\n        compress\n        sharedscripts\n        postrotate\n            /bin/kill -USR1 `cat /run/nginx.pid 2>/dev/null` 2>/dev/null || true\n        endscript\n    }\n# 日志切分示例\ncd /var/log/nginx\nlogrotate -d /etc/logrotate.d/nginx # 预演，不进行实际切割操作\nlogrotate /etc/logrotate.d/nginx # 实际进行文件切割\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br")])]),n("h4",{attrs:{id:"supervisor"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#supervisor"}},[s._v("#")]),s._v(" Supervisor")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("安装：pip install supervisor\n创建一个目录，专门用于存放supervisor的配置文件：mkdir /etc/supervisor\n生成配置文件模板：echo_supervisor_conf > /etc/supervisor/supervisor.conf\n实际例子，将redis的server配置成supervisor：\n    vim /etc/supervisor/supervisor.conf\n    # 命令模式下按G跳到最后一行，修改include的目录\n        [include]\n        files = /etc/supervisor/conf.d/*.ini;\n    cd /etc/supervisor\n    mkdir conf.d && cd conf.d\n    touch redis.ini\n    vim redis.ini # 写入以下内容：\n        [program:redis]\n        command=/usr/local/bin/redis-server # 启动进程的命令\n        autostart=true  # 随着supervisor服务启动而启动\n        autorestart=true    # 挂掉自动重启\n        startsecs=3 # 进程持续运行多久才认为是启动成功\n    # 启动supervisor服务\n    supervisord -c /etc/supervisor/supervisor.conf\n    # 进入命令行交互\n    supervisorctl -c /etc/supervisor/supervisor.conf    # 如果配置文件取名为supervisord.conf，则可以不用-c指定文件\n        >status  # 查看所管理的服务的状态\n        >stop redis # 停止redis服务\n        >start redis  # 启动redis服务\n    # 假如修改了supervisor配置文件，需要重启就supervisorctl reload\n    # 一个命令行启动/停止程序：supervisorctl -c /etc/supervisor/supervisor.conf start/stop redis\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br")])]),n("h2",{attrs:{id:"第-15-章-监控神器-zabbix"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第-15-章-监控神器-zabbix"}},[s._v("#")]),s._v(" 第 15 章 监控神器 Zabbix")]),s._v(" "),n("p",[s._v("服务器犹如人的身体，监控状态是需要通过健康检查提前告知。Zabbix 作为运维届的监控常青树，可以很方便的监控成千上万台的服务器。本章节讲解 zabbix 的安装 、服务器的基本配置项监控。")]),s._v(" "),n("h3",{attrs:{id:"_15-1-监控系统-zabbix-上"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_15-1-监控系统-zabbix-上"}},[s._v("#")]),s._v(" 15-1 监控系统 Zabbix （上）")]),s._v(" "),n("p",[s._v("官网：https://www.zabbix.com/\n官方下载地址：https://www.zabbix.com/download\n运行环境：LNMP——linux、Nginx、MySQL、PHP")]),s._v(" "),n("h4",{attrs:{id:"搭建-zabbix"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#搭建-zabbix"}},[s._v("#")]),s._v(" 搭建 zabbix")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1. 添加源：sudo rpm -ivh http://repo.zabbix.com/zabbix/3.2/rhel/7/x86_64/zabbix-release-3.2-1.el7.noarch.rpm    # 可以选择其他更新版本的\n2. yum search zabbix\n3. 安装服务端：sudo yum install zabbix-server-mysql zabbix-web-mysql -y\n4. 安装客户端：sudo yum install zabbix-agent -y\n5. 进入MySQL，新建一个zabbix数据库\n    mysql -uroot -p\n    create database zabbix;\n    exit\n6. 使用zabbix的sql文件初始化zabbix数据库\n    cd /usr/share/doc/zabbix-server-mysql-3.2.10/\n    zcat create.sql.gz | mysql -uroot -p zabbix\n7. 编辑zabbix配置文件\n    cd /etc/zabbix\n    vim zabbix_server.conf\n    配置好DBName、DBUser、DBPassword、DBHost、DBPort\n8 。启动zabbix\n    sudo service zabbix-server start\n    ps -ef | grep zabbix    # 看一下运行情况\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("h3",{attrs:{id:"_15-2-监控系统-zabbix-下"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_15-2-监控系统-zabbix-下"}},[s._v("#")]),s._v(" 15-2 监控系统 Zabbix (下)")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("9. 配置一下web访问zabbix\n    - 随便看看apache下的配置文件(zabbix默认是apache)\n        cd /etc/httpd/conf.d\n        cat zabbix.conf\n    - 配置成nginx\n        cd /etc/nginx/conf.d/\n        cp phpmyadmin.conf zabbix.conf # 随便复制一份配置文件\n        修改一下配置：\n            -------------------------------\n            server {\n                listen 80;\n                server_name zabbix.imooc.test;\n                root /usr/share/zabbix;\n                index index.php index.html;\n                access_log /var/log/nginx/access_zabbix.log imooc;\n                location / {\n                    try_file $uri $uri/ /index.php?$args;\n                }\n                location ~ \\.php$ {\n                    include fastcgi_params;\n                    fastcgi_pass 127.0.0.1:9000;\n                    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n                    try_files $uri =404;\n                }\n            }\n        重启Nginx：service nginx restart\n        启动fpm：service php-fpm start\n        新增一条hosts：192.168.0.104 ... zabbix.imooc.test\n        检查一下：ping zabbix.imooc.test，成功后打开浏览器访问看看(通过web界面安装zabbix)\n        要想安装zabbix，需要按要求配置好php配置(配置好后刷新一下网页即可)：\n            sudo vim /etc/php.ini\n            修改一下配置：\n                always_populate_raw_post_data = -1 # 打开这个配置的注释\n                ...\n                # 在文件尾部新增以下配置\n                date.timezone=Asiz/Shanghai\n                post_max_size=32M\n                max_execution_time=300\n                max_input_time=300\n            重启fpm：sudo service php-fpm restart\n10. 安装完成之后，默认账号密码是admin zabbix，可以登录进入zabbix管理页面\n11. zabbix在设置里可以设置成中文，可能会有部分页面显示乱码，百度zabbix中文乱码解决\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br")])]),n("h2",{attrs:{id:"第-16-章-课程总结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第-16-章-课程总结"}},[s._v("#")]),s._v(" 第 16 章 课程总结")]),s._v(" "),n("p",[s._v("课程重点知识梳理回顾。")]),s._v(" "),n("h3",{attrs:{id:"_16-1-16-课程总结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_16-1-16-课程总结"}},[s._v("#")]),s._v(" 16-1 16 课程总结")]),s._v(" "),n("p",[s._v("云服务器和虚拟机的唯一区别：是否有公网 ip")]),s._v(" "),n("ul",[n("li",[s._v("ssh 服务")]),s._v(" "),n("li",[s._v("linux 常用命令")]),s._v(" "),n("li",[s._v("WebServer")]),s._v(" "),n("li",[s._v("MySQL")]),s._v(" "),n("li",[s._v("Git")]),s._v(" "),n("li",[s._v("缓存服务器")]),s._v(" "),n("li",[s._v("PHP&吉祥三宝")]),s._v(" "),n("li",[s._v("Python")]),s._v(" "),n("li",[s._v("Java")]),s._v(" "),n("li",[s._v("常用服务")]),s._v(" "),n("li",[s._v("zabbix")])])])}),[],!1,null,null,null);a.default=e.exports}}]);